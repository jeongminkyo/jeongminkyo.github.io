---
comments: true
tags: 회고
layout: post
title: 2021년 첫번째 회고
---



## 2021년 첫번째 회고

2021년을 맞이하여 회고를 진행해보고자 한다. 벌써 1분기가 다 가는 시기인데 첫번째 회고치고는 너무 늦은 시간이기는 하다. 최근에 예전에 기록했던 글들을 읽으면서 지금 이 시기에 내가 생각하고 느꼈던 점들을  기억보다는 기록을 위해 남기는게 좋아보였다.

작년 2020년을 되돌아보면 내가 많은 성장을 하였는가에 대한 고민에 대해 아쉬운 한해이기도 하면서 돌이켜보면 많은 성장을 한 한 해이기도 한 거 같다. 

작년에 나의 성장에 많은 도움이 되었던 것

1. 테스트코드

   테스트코드에 대한 갈망은 컸다. 하지만 막상 적용할려고 어디서부터 시작해야되는지 어떻게 적용해야하는지 막막한 부분들이 많았다. 항상 내 코드에 대한 불안감을 한편에 가지고 있지만, 테스트 코드를 짜지는 않았다.(그 때 개발 분위기는 개개인에 많은 부분을 믿는 분위기이기도 했고...) 맞다 그냥 핑계였다. 그러다 우연히 팀에 시니어 개발자분이 오시면서 테스트 코드에 대한 부분을 많이 배웠었다. 그러면서 나의 개발방식도 또한 많이 바뀌었다.

   기존에는 코드를 짜고, api의 경우, 기기를 이용하여 직접 api를 찔러보면서 테스트를 했었다. 이렇게 할 경우, 많은 문제점이 있었다.

   1. 로직의 일부분만 테스트가 불가능했다.

      Api의 흐름이 넘어온 파라미터를 기준으로 데이터를 1. 조회 2. 파싱 3. 데이터 가공의 순이라면 나는 2. 파싱에 대한 부분만 테스트를 하고 싶으나, api를 찌르면 조회부터 파싱, 데이터 가공까지 모든 로직을 다 수행한다.

   2. 반복 테스트가 어렵다.

      운이 좋게 파싱이 잘되면 문제가 없으나, 그렇지 않는 경우, 다시 api를 찔러야 하고, 앞단에 만약 throttle limit같은 제약 조건들이 있으면 해당 조건에 의해 내가 테스트하고 싶은 코드까지 들어오지 않는 경우도 생긴다. 이 경우, 잘 알고 있으면 상관이 없으나, 잘 모르는 경우에는 해당 원인을 또 찾아야 한다.

   3. 시간이 오래 걸린다.

      위의 과정들이 계속해서 반복되게 되면 로직 구현에서부터 테스트까지 시간이 너무 오래 걸린다. 시간이 오래걸리면 프로젝트 일정이 밀리게 되고 우리는 민첩하게 움직이지 못하게 되는 것이다.

   테스트 코드를 짜게 되면서 테스트에 용이하게 메소드를 나누게 되었고, 메소드 단위 테스트만 진행하면 되다보니 반복 테스트도 쉬웠고, 일부분만 테스트가 가능해졌다. 이렇게 개발하면서 input값들을 나누면서 api를 직접 찌르면서 테스트를 하지 않아도 되다 보니 시간도 많이 줄어들었다.

   무엇보다 테스트 코드를 짜면서 가장 좋은 점은 코드 리팩토링에 대한 기반이 조금이라도 생겼다라는 점이였다. 이전 프로젝트는 모놀리식 아키텍쳐(Monolithic Architecture, MA)이다보니 한 프로젝트에 많은 코드들이 들어가있었고, 코드양도 엄청 많았다. 기존에 있는 코드들 중 일부는 테스트 코드가 있으나, 없는 테스트코드도 많다보니 리팩토링이 필요하였으나 엄두가 나지 않는 경우도 많았다. 

   비록 새로운 피쳐의 작은부분이더라도 테스트 코드를 붙이면서 내가 짠 코드에 대한 스스로의 확신도 올리는 점도 또한 큰 도움이 되었다.

2. 페어프로그래밍

   시니어 개발자분이 오면서 페어프로그래밍을 진행했다. 처음에는 페어프로그래밍에 대한 약간의 거부감이 들었다. 같이 한 컴퓨터를 통해 코드를 짠다? 효율이 날까라는 고민도 들었고, 굳이 라는 생각도 들었다. 하지만 페어프로그래밍을 하면서 정말정말 나에겐 큰 도움이 되었고, 많은 부분들을 배우게 되는 좋은 기회였다고 생각한다.

   페어프로그래밍을 하면서 도움이 되었던 점은 2가지였다.

   1. 같은 프로젝트를 진행하는 사람과 기본적인 스펙들을 맞추고 간다.

      물론 이 부분은 lint나 컨벤션을 의미하는 건 아니다. 기존 프로젝트의 경우, 내가 오래한 부분들이 있다보니 프로젝트에 대한 이해도는 시니어 개발자분보다는 내가 높았다. 페어프로그래밍을 통해서 프로젝트에 대한 이해도, 그리고 레거시의 부분들 그리고 전체적인 흐름들을 같이 공유하면서 내가 알고 있는 내용도 한 번 정리하는 기회가 되었고, 남들이 보면 이상하다고 생각되나 오래 있다보니 당연하다고 생각되었던 부분들을 지적을 해주면서 그런 레거시들에 대한 생각도 다시 하게 되었다. 그러면서 레거시에 대한 리팩토링 방법, 방향성등을 같이 고민하면서 아키텍쳐에 대한 고민들을 많이했다.

   2. 코드를 짤 때 고민해야되는 부분들을 많이 배웠다.

      같은 회사를 다니더라도 프로젝트 성격에 따라 개발의 성향이 많이 나뉘는 것을 깨달았다. A 프로젝트는 사용자가 많다보니 어드민에서 많은 사용자들에게 데이터를 어떻게 하면 빨리 insert할 것인가에 대한 고민을 하였고, B 프로젝트는 사용자가 많지는 않았으나, A 프로젝트에 dependancy가 있다보니, A 프로젝트에서 장애가 발생하였을 때, 어떻게 하면 장애가 전파되지 않을까라는 고민들을 하였다. 같은 회사라고 하더라도 각자 프로젝트에 따라 고민하는 부분들이 많이 달랐다. 시니어 개발자분은 다른 프로젝트에 있다가 오신분이다보니 내가 생각하고 고민하는 부분과 다른 부분에 고민하는 부분들이 많이 있었다. 또한 경험에서 나오는 부분(짬에서 나오는 바이브)들이 나는 생각지도 못한 설계에 녹여지기도 하였고, 아키텍쳐 설계뿐 아니라 코드 설계에서도 많은 부분들을 배웠다. 그러면서 디자인패턴, OOP등 많은 부분들을 고민하기 시작한거 같다.

   이렇게 보면 페어프로그래밍이 좋은 점만 있어보이지만, 진행하다보니 체력적으로 너무 힘든 부분들이 많고, 시간이 오래걸려서 일정이 빠듯한 경우에는 하기가 조금 힘들어보였다.

3. 코드리뷰

   이 것도 또한 시니어 개발자분이 오시면서 진행했었는데, 기존에는 코드리뷰를 하지 않았다. 새로운 피쳐를 개발할 때, 차터 작업을 진행할 때 설계와 구현방법들을 많이 이야기를 했었다보니 코드리뷰를 하지 않아도 된다라고 생각을 했었다. 하지만 이 건 큰 오착 중에 하나였고, 코드리뷰를 했으면 장애로까지 이어지지 않았을 부분들이 있었으나 이를 놓치면서 장애로까지 연결된 적도 있었다. 

   코드 리뷰를 할 때는 원칙을 정해놓고 진행을 했다.

   1. 코드 리뷰는 절대 대충하지 않는다.

      나는 주니어고 다른 분은 시니어니까 이분이 하신건 모두 맞아라고 생각하고 코드리뷰를 절대 진행하지 않는다가 원칙이였다. 내가 궁금한 점, 그리고 지적할 부분, 리뷰할 부분에 대해서는 주니어와 시니어가 아닌 개발자와 개발자의 입장으로 리뷰를 한다로 진행했다. 그렇다보니 코드를 좀 더 꼼꼼히 확인하고, 나였으면 어떻게 짯을까라고 생각을 하면서 코드 리뷰를 진행했다.  

   2. 상대방의 코드에 비난을 하지 않는다.

      코드 리뷰라는게 사실 그렇게 기분 좋은 일은 아니다. 내가 짠 코드를 누가 검사한다는 느낌이기도 하고, 약간 벌거벗긴 기분이기도 하다. 사람말이 '아'다르고 '어'다르다고, 리뷰에는 이게 맞아요 라기보다는 이렇게 하는 게 어떨까요라든지 조금 완곡된 표현을 쓰고, 코드에 대한 원색적인 비난이나 비꼬는 말투는 쓰지 않았다.

4. SQLD

   사실 SQLD를 공부하게 된 거는 프로젝트에서 DB가 병목포인트가 되면서 장애를 발생한 경우들이 많았다. DB의 스펙이 나쁘지 않음에도 불구하고, DB가 장애의 병목포인트가 되다보니, DB를 어떻게 하면 잘 쓸 수 있을까에 대한 고민으로부터 시작했다. 물론 해당 자격증이 꼭 따야되는 자격증이라기 보다는 지식을 습득하는데 있어서 머리속에 오래 남고 집중할 수 있는 경우가 시험만큼 좋은게 없어서 시작했다. 자격증을 위한 공부보다는 DB에 대한 지식을 습득하고, SQLP에서의 쿼리 튜닝까지 생각해서 DB에 대한 원론적인 부분들을 공부하기 위해서 시작했다.

   공부를 하다보니 난 그냥 SQL문만 알고 있는 수준이였다. DB 데이터 자료구조, optimizer, explain 등 DB에 대해 많이 모르던 부분들도 많이 알게 되어서 좋은 공부였다고 생각한다. 하지만 아직까지도 잘 모르는 부분들이 너무 많다.

   그리고 해당 시험이 orcle이랑 sql server 위주로 되어있다보니 회사에서 쓰는 mysql이랑 차이가 좀 있어서 그런 부분들은 아쉬웠다. 시험은 11월에 봤고, 준비를 많이 하고 가서 그런지 어렵지 않게 합격을 했다.





